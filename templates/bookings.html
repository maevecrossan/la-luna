{% extends "base.html" %}
{% block content %}
{% load crispy_forms_tags %}

<!-- displaying Django messages -->
<div class="container">
	<div class="row">
	  <div class="col-md-8 offset-md-2">
		{% for message in messages %}
		<div class="alert {{ message.tags }} alert-dismissible
		  fade show" id="msg" role="alert">
		  {{ message | safe }}
		  <button type="button" class="btn-close"
			data-bs-dismiss="alert" aria-label="Close"></button>
		</div>
		{% endfor %}
	  </div>
	</div>
  </div>
<!-- FORM -->
<div class="formbold-main-wrapper polka-dot-background">
	<!-- Author: FormBold Team -->
	<!-- Learn More: https://formbold.com -->
	<div class="formbold-form-wrapper lato">
		<h2 class="center form-title italiana"> Book with us today! </h2>

		<p class="lato center"> Already have a booking? <a href="{% url 'bookingsystem:my-bookings' %}"> Click here </a> to view and modify. </p>

		<p class="lato center"> New here? Please<a class="nav-link {% if request.path == signup_url %}active{% endif %}" aria-current="page"
			href="{% url 'account_signup' %}">register here</a> to make a booking.</p>

		<form action="{% url 'bookingsystem:bookings' %}" onsubmit="return sendBookingConfirmation(this);" method="POST">

			{% csrf_token %}

			<div class="formbold-mb-5">
				<label for="name" class="formbold-form-label"> Full Name </label>

				{{ form.name }}

			</div>

			<div class="formbold-mb-5">
				<label for="phone" class="formbold-form-label"> Phone Number </label>

				{{ form.phone_number }}

			</div>

			<div class="formbold-mb-5">
				<label for="email" class="formbold-form-label"> Email Address </label>

				{{ form.email }}

			</div>

			<div class="flex flex-wrap formbold--mx-3">
				<div class="w-full sm:w-half formbold-px-3">
					<div class="formbold-mb-5 w-full">
						<label for="date" class="formbold-form-label" min="{{ today }}"> Date </label>

						{{ form.date.as_widget }}

					</div>
				</div>

				<div class="w-full sm:w-half formbold-px-3">
					<div class="formbold-mb-5">
						<label for="time" class="formbold-form-label"> Choose a time:</label>

						{{ form.time }}

					</div>
				</div>
			</div>

			<div class="formbold-mb-5">

				<label for="guests" class="formbold-form-label"> Number of Guests </label>

				{{ form.guests }}

				<p class="form-subtext"><em> For bookings of nine or more guests, please contact us directly. </em></p>

			</div>

			<div>
				<button type="submit" class="formbold-btn"> SUbmit </button>
			</div>
		</form>
	</div>
</div>

{% endblock %}