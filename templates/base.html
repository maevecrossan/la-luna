{% load static %}

{% url 'home' as home_url %}
{% url 'account_login' as login_url %}
{% url 'account_signup' as signup_url %}
{% url 'account_logout' as logout_url %}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->

    <!-- EmailJS Browser Script -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
    </script>

    <script type="text/javascript">
        (function () {
            emailjs.init({
                publicKey: "NA3kA9PdS_MuseUgm",
            });
        })();
    </script>

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <link rel="stylesheet" href="{% static 'css/style.css' %}" type="text/css">

    <link rel="stylesheet" href="{% static 'css/booking-form.css' %}" type="text/css">

    <link rel="stylesheet" href="{% static 'css/menu.css' %}" type="text/css">

    <link rel="stylesheet" href="{% static 'css/style.css' %}" type="text/css">

    <title>La Luna</title>

</head>

<body>
    <header class="dark-brown-background">
        <div class="header-container">

            {% if user.is_authenticated %}
            <p class="right off-white italiana text-end m-3">You are logged in as {{ user }}.</p>
            {% else %}
            <p class="right off-white italiana text-end m-3">You are not logged in.</p>
            {% endif %}

            {% if user.is_authenticated %}
            <div>
                <a class="right off-white italiana text-end m-3 {% if request.path == logout_url %}active{% endif %}"
                    aria-current="page" href="{% url 'account_logout' %}">Logout</a>
            </div>
            {% else %}
            <div class="right">
                <a class="right off-white italiana text-end m-3 {% if request.path == login_url %}active{% endif %}"
                    aria-current="page" href="{% url 'account_login' %}">Login</a>
                <a class="right off-white italiana text-end m-3 {% if request.path == signup_url %}active{% endif %}"
                    aria-current="page" href="{% url 'account_signup' %}">Register</a>
            </div>
            {% endif %}

            <!-- Logo -->
            <h1 class="logo center off-white italiana"> La Luna </h1>

            <!-- Nav -->

            <!-- desktop nav -->
            <nav id="desktop-navigation" class="active">
                <ul class="navbar navbar-expand-sm justify-content-center italiana full-width">
                    <li class="nav-item mr-2 topBotomBordersOut">
                        <a class="nav-link" href="{% url 'index' %}"> Home </a>
                    </li>

                    <li class="nav-item mr-2 topBotomBordersOut">
                        <a class="nav-link" href="{% url 'menu' %}"> Menu </a>
                    </li>

                    <li class="nav-item mr-2 topBotomBordersOut">
                        <a class="nav-link" href="{% url 'bookings' %}"> My Bookings </a>
                    </li>

                    <li class="nav-item mr-2 topBotomBordersOut">
                        <a class="nav-link" href="{% url 'index' %}#our-story-section"> Our Story </a>
                    </li>

                    <li class="nav-item mr-2 topBotomBordersOut">
                        <a class="nav-link" href="{% url 'index' %}#mini-gallery-container"> Gallery </a>
                    </li>

                    <li class="nav-item mr-2 topBotomBordersOut">
                        <a class="nav-link" href="{% url 'contact' %}"> Contact Us</a>
                    </li>

                </ul>
            </nav>

            <!-- Hamburger icon for mobile menu -->
            <a href="javascript:void(0);" id="burger-icon" class="icon" onclick="displayMobileMenu()">
                <i class="fa fa-bars off-white"></i>
            </a>

            <!-- Mobile nav (hidden by default) -->
            <nav id="mobile-navigation" class="mobile-menu">
                <ul class="navbar navbar-expand-sm italiana">
                    <li class="nav-item topBotomBordersOut">
                        <a class="nav-link" href="{% url 'index' %}">Home</a>
                    </li>

                    <li class="nav-item topBotomBordersOut">
                        <a class="nav-link" href="{% url 'menu' %}">Menu</a>
                    </li>

                    <li class="nav-item topBotomBordersOut">
                        <a class="nav-link" href="{% url 'bookings' %}">Bookings</a>
                    </li>

                    <li class="nav-item topBotomBordersOut">
                        <a class="nav-link" href="{% url 'index' %}#our-story-section">Our Story</a>
                    </li>

                    <li class="nav-item topBotomBordersOut">
                        <a class="nav-link" href="{% url 'contact' %}">Contact Us</a>
                    </li>

                    {% if user.is_authenticated %}
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == logout_url %}active{% endif %}" aria-current="page"
                            href="{% url 'account_logout' %}">Logout</a>
                    </li>
                    {% else %}
                    <li class="nav-item">
                        <a class="nav-link {% if request.path == login_url %}active{% endif %}" aria-current="page"
                            href="{% url 'account_login' %}">Login</a>
                    </li>
                    {% endif %}
                </ul>
            </nav>
        </div>
    </header>

    <div class="container-fluid">
        {% if messages %}
        <ul class="messages">
            {% for message in messages %}
            <li class="{{ message.tags }}">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}

        
        {% block content %}
        {% endblock %}
    </div>

    <div class="container-fluid polka-dot-background">
        <footer class="row row-cols-4 border-top footer-container dark-brown-background">

            <div class="copyright-container">
                <a href="/" class="d-flex align-items-center mb-3 link-dark off-white text-decoration-none">
                    <svg class="bi me-2" width="40" height="32">
                        <use xlink:href="#bootstrap"></use>
                    </svg>
                </a>
                <p class="copyright-text italiana"> Â© 2024 </p>
            </div>

            <div class="col ta-center">
                <h5 class="italiana footer-title">Directory</h5>
                <ul class="nav flex-column lato">
                    <li class="mb-2"><a href="{% url 'index' %}" class="footer-link p-0">Home</a></li>

                    <li class="mb-2"><a href="{% url 'menu' %}" class="footer-link p-0">Menu</a></li>

                    <li class="mb-2"><a href="{% url 'bookings' %}" class="footer-link p-0">Bookings</a>
                    </li>

                    <li class="mb-2"><a href="{% url 'index' %}#our-story-section" class="footer-link p-0">Our Story</a>
                    </li>

                    <li class="mb-2"><a href="{% url 'contact' %}" class="footer-link p-0">Contact</a>
                    </li>

                    {% if user.is_authenticated %}
                    <li class="mb-2">
                        <a class="footer-link p-0 {% if request.path == logout_url %}active{% endif %}"
                            aria-current="page" href="{% url 'account_logout' %}">Logout</a>
                    </li>
                    {% else %}
                    <li class="mb-2">
                        <a class="footer-link p-0 {% if request.path == signup_url %}active{% endif %}"
                            aria-current="page" href="{% url 'account_signup' %}">Register</a>
                    </li>
                    <li class="mb-2">
                        <a class="footer-link p-0 {% if request.path == login_url %}active{% endif %}"
                            aria-current="page" href="{% url 'account_login' %}">Login</a>
                    </li>
                    {% endif %}

                </ul>
            </div>

            <div class="col directory">
                <h5 class="italiana footer-title center">Social Media</h5>
                <ul class="nav flex-column flex-column lato">
                    <li class="mb-2 off-white center "><a href="https://x.com/?lang=en" class="footer-link p-0"> X /
                            Twitter</a>
                    </li>

                    <li class="mb-2 off-white center"><a href="https://www.instagram.com/"
                            class="footer-link p-0">Instagram</a>
                    </li>

                    <li class="mb-2 off-white center"><a
                            href="https://www.facebook.com/login/?next=https%3A%2F%2Fwww.facebook.com%2F"
                            class="footer-link p-0">Facebook</a></li>

                </ul>
            </div>
            <!-- <div class="col ta-center">
                <h5 class="italiana footer-title">Administration</h5>
                <ul class="nav flex-column lato">
                    <li class="mb-2"><a href="#" class="footer-link p-0">Sign In</a>
                    </li>
                </ul>
            </div> -->
            <div class="col ta-center">
                <h5 class="italiana footer-title">Address</h5>

                <address class="nav flex-column lato footer-contact-info off-white">
                    La Luna,<br>
                    01 Donnybrook Rd, <br>
                    Dublin 4, <br>
                    D12 D345
                </address>

                <p class="footer-contact-info off-white"> Tel: 01 2345678 </p>

                <p class="footer-contact-info off-white"> Email Address: lalunaconfirmation@gmail.com </p>
            </div>
        </footer>
    </div>

    <script src="{% static 'js/booking-confirmation-email.js' %}"></script>

    <script src="{% static 'js/my-bookings-crud.js' %}"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous">
    </script>

    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous">
    </script>

    <script src="{% static 'js/base.js' %}"></script>

    <!--lozad.js-->
    <script src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script>

    <!-- Font Awesome kit -->
    <script src="https://kit.fontawesome.com/dc45154bc3.js" crossorigin="anonymous"></script>

    <!-- Google Maps API -->

</body>

</html>